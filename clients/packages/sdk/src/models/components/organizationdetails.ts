/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { ClosedEnum } from "../../types/enums.js";

export const SwitchingFrom = {
  Paddle: "paddle",
  LemonSqueezy: "lemon_squeezy",
  Gumroad: "gumroad",
  Stripe: "stripe",
  Other: "other",
} as const;
export type SwitchingFrom = ClosedEnum<typeof SwitchingFrom>;

export type OrganizationDetails = {
  /**
   * Brief information about you and your business.
   */
  about: string;
  /**
   * Description of digital products being sold.
   */
  productDescription: string;
  /**
   * How the organization will integrate and use Polar.
   */
  intendedUse: string;
  /**
   * Main customer acquisition channels.
   */
  customerAcquisition: Array<string>;
  /**
   * Estimated revenue in the next 12 months
   */
  futureAnnualRevenue: number;
  /**
   * Switching from another platform?
   */
  switching?: boolean | undefined;
  /**
   * Which platform the organization is migrating from.
   */
  switchingFrom?: SwitchingFrom | null | undefined;
  /**
   * Revenue from last year if applicable.
   */
  previousAnnualRevenue?: number | undefined;
};

/** @internal */
export const SwitchingFrom$outboundSchema: z.ZodMiniEnum<typeof SwitchingFrom> =
  z.enum(SwitchingFrom);

/** @internal */
export type OrganizationDetails$Outbound = {
  about: string;
  product_description: string;
  intended_use: string;
  customer_acquisition: Array<string>;
  future_annual_revenue: number;
  switching: boolean;
  switching_from?: string | null | undefined;
  previous_annual_revenue: number;
};

/** @internal */
export const OrganizationDetails$outboundSchema: z.ZodMiniType<
  OrganizationDetails$Outbound,
  OrganizationDetails
> = z.pipe(
  z.object({
    about: z.string(),
    productDescription: z.string(),
    intendedUse: z.string(),
    customerAcquisition: z.array(z.string()),
    futureAnnualRevenue: z.int(),
    switching: z._default(z.boolean(), true),
    switchingFrom: z.optional(z.nullable(SwitchingFrom$outboundSchema)),
    previousAnnualRevenue: z._default(z.int(), 0),
  }),
  z.transform((v) => {
    return remap$(v, {
      productDescription: "product_description",
      intendedUse: "intended_use",
      customerAcquisition: "customer_acquisition",
      futureAnnualRevenue: "future_annual_revenue",
      switchingFrom: "switching_from",
      previousAnnualRevenue: "previous_annual_revenue",
    });
  }),
);

export function organizationDetailsToJSON(
  organizationDetails: OrganizationDetails,
): string {
  return JSON.stringify(
    OrganizationDetails$outboundSchema.parse(organizationDetails),
  );
}
