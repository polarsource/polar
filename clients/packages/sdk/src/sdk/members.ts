/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { membersCreateMember } from "../funcs/membersCreateMember.js";
import { membersDeleteMember } from "../funcs/membersDeleteMember.js";
import { membersListMembers } from "../funcs/membersListMembers.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import { Member } from "../models/components/member.js";
import { MemberCreate } from "../models/components/membercreate.js";
import { MembersDeleteMemberRequest } from "../models/operations/membersdeletemember.js";
import {
  MembersListMembersRequest,
  MembersListMembersResponse,
} from "../models/operations/memberslistmembers.js";
import { unwrapAsync } from "../types/fp.js";
import { PageIterator, unwrapResultIterator } from "../types/operations.js";

export class Members extends ClientSDK {
  /**
   * List Members
   *
   * @remarks
   * List members with optional customer ID filter.
   *
   * **Scopes**: `members:read` `members:write`
   */
  async listMembers(
    request: MembersListMembersRequest,
    options?: RequestOptions,
  ): Promise<PageIterator<MembersListMembersResponse, { page: number }>> {
    return unwrapResultIterator(membersListMembers(
      this,
      request,
      options,
    ));
  }

  /**
   * Create Member
   *
   * @remarks
   * Create a new member for a customer.
   *
   * Only B2B customers with the member management feature enabled can add members.
   * The authenticated user or organization must have access to the customer's organization.
   *
   * **Scopes**: `members:write`
   */
  async createMember(
    request: MemberCreate,
    options?: RequestOptions,
  ): Promise<Member> {
    return unwrapAsync(membersCreateMember(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete Member
   *
   * @remarks
   * Delete a member.
   *
   * The authenticated user or organization must have access to the member's organization.
   *
   * **Scopes**: `members:write`
   */
  async deleteMember(
    request: MembersDeleteMemberRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(membersDeleteMember(
      this,
      request,
      options,
    ));
  }
}
