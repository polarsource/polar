---
title: "Proration for Subscription Upgrades and Downgrades"
description: "Learn how proration works in Polar, including available proration types, billing behavior during upgrades and downgrades, and how to configure proration using APIs and dashboard settings."
---

## What is Proration?

Proration is the adjustment of charges based on the unused portion of the current billing period when a subscription is upgraded or downgraded.

## Types of Proration

For both `prorate` and `invoice` proration types, the **subscription plan always changes immediately**, whether the change is an upgrade or a downgrade. The only difference between the two proration types is **when the price difference is charged or credited**.

### Invoice Immediately (`invoice`)

The prorated price difference is charged or credited immediately when the subscription is upgraded or downgraded.

### Next Invoice (`prorate`)

The prorated price difference is charged or credited on the next invoice on updgrading or downgrading a subscription.

## How to change the default proration setting using dashboard

<Steps>
    <Step title = "Go to Organization Settings">
        In the Polar dashboard sidebar, click on **Settings**.
            You can also go directly to:  
            `https://polar.sh/dashboard/${org_slug}/settings`  
        Scroll down to **Subscriptions** section.
        <img height="200" src="/assets/guides/proration/settings.png" />
    </Step>
    <Step title = "Choose the Proration type">
        Choose the default proration behavior: **Invoice Immediately** or **Next invoice**.
        <img height="200" src="/assets/guides/proration/proration.png" />
        The default proration setting is changed successfully. 
    </Step>
</Steps>

## How to change the default proration setting using the OAT API

You can change the default proration behavior using the [Update Organization API](https://polar.sh/docs/api-reference/organizations/update).
    
## How to prorate when updating subscription via API

<Steps>
    <Step title = "Create an organization Token">
        Create a new organization token by following our [Organization Access Tokens](https://polar.sh/docs/integrate/oat) guide.
    </Step>
    <Step title = "Save your Access Token">
        After creating your access token, you will be able to view it. Please copy and save your access token.
        <img height="200" src="/assets/guides/proration/access-token.png" />
    </Step>
    <Step title = "Copy the Subscription ID">
        - In the Polar dashboard sidebar, navigate to **Sales** > **Subscriptions** for your organization.
        You can also go directly to:  
        `https://polar.sh/dashboard/${org_slug}/sales/subscriptions`

        <img height="200" src="/assets/guides/proration/subscription-list.png" />
        - Click on the Subscription you want to upgrade/downgrade and copy its **Subscription ID**.
        <img height="200" src="/assets/guides/proration/subscription-details.png" />
    </Step>
    <Step title = "Copy the Product ID">
        - In the Polar dashboard sidebar, navigate to **Products** > **Catalogue** for your organization.
        You can also go directly to:  
        `https://polar.sh/dashboard/${org_slug}/products`  
        <img height="200" src="/assets/guides/proration/products-catalogue.png" />
        - Retrieve the Product ID for the item you wish to upgrade the subscription to by clicking on the **⋮ (More options) menu** next to chosen products and selecting **Copy Product ID**.       
        <img height="200" src="/assets/guides/proration/product-id.png" />
    </Step>
    <Step title = "Call the Update Subscription API">
        Call the **Update Subscription API** as follows. 
        
        Make sure to replace:

            - **subscription_id** with the ID of the subscription you want to update

            - **product_id** with the new product ID

            - **type_of_proration** with the desired proration type:  
                        - `invoice`: to charge/credit the prorated price difference immediately  
                        - `prorate`: to charge/credit the prorated price difference on next invoice 
<CodeGroup>

```bash cURL
curl --request PATCH \
  --url https://api.polar.sh/v1/subscriptions/{<subscription_id>} \
  --header 'Authorization: Bearer <YOUR_BEARER_TOKEN_HERE>' \
  --header 'Content-Type: application/json' \
  --data '{
    "product_id": "<product_id>",
    "proration_behavior": "type_of_proration"
  }'
```


```py Python
from polar_sdk import Polar

with Polar(
    access_token="<YOUR_BEARER_TOKEN_HERE>",
) as polar:

    res = polar.subscriptions.update(id="<subscription_id>", subscription_update={
        "product_id": "<product_id>",
        "proration_behavior": "<type_of_proration>"
    })

    # Handle response
    print(res)
```

</CodeGroup>
    </Step>
</Steps>


## Some examples for proration amount calculation
You can create a subscription with two plan options, one for \$5 and other for \$20 by following [Create Product Variants](https://polar.sh/docs/guides/create-variants).  

### Case 1: Upgrading the subscription
You can upgrade a subscription by following the steps outlined in [Subscription Upgrades](https://polar.sh/docs/guides/subscription-upgrades), which explains the process from both the merchant’s and the customer’s perspectives.

**Example 1: Proration type = `invoice`**
<img height="200" src="/assets/guides/proration/upgrade_invoice.png" />
Assuming that the month when the subscription was purchased has 30 days. In case of 31 days, instead of 30th + 1 day, it would be 31st + 1 day = 32nd day.

**Example 2: Proration type = `prorate`**
<img height="200" src="/assets/guides/proration/upgrade_prorate.png" />
Assuming that the month when the subscription was purchased has 30 days. In case of 31 days, instead of 30th + 1 day, it would be 31st + 1 day = 32nd day.
<Note>
If the billing interval changes, i.e. daily to monthly or monthly to yearly or vice versa, the proration is always applied as invoice (even if set to prorate).
</Note>

### Case 2: Downgrading the subscription 
You can downgrade a subscription by following the steps outlined in [Subscription Downgrades](https://polar.sh/docs/guides/subscription-downgrades), which explains the process from both the merchant’s and the customer’s perspectives.

**Example 1: Proration type = `invoice`**
<img height="200" src="/assets/guides/proration/downgrade_invoice.png" />
Assuming that the month when the subscription was purchased has 30 days. In case of 31 days, instead of 30th + 1 day, it would be 31st + 1 day = 32nd day.

**Example 2: Proration type = `prorate`**
<img height="200" src="/assets/guides/proration/downgrade_prorate.png" />
Assuming that the month when the subscription was purchased has 30 days. In case of 31 days, instead of 30th + 1 day, it would be 31st + 1 day = 32nd day.

<Note>
If the billing interval changes, i.e. daily to monthly or monthly to yearly or vice versa, the proration is always applied as invoice (even if set to prorate).
</Note>