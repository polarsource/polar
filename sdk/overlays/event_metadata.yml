overlay: 1.0.0
info:
  title: Overlay to set Event.metadata field as a free-form object instead of a schema with additionalProperties; since Speakeasy makes it very hard to work with
  version: 0.0.1
actions:
  - target: "$.components.schemas['EventMetadataInput'].properties"
    remove: true
  - target: "$.components.schemas['EventMetadataInput'].additionalProperties.anyOf"
    update:
      - $ref: "#/components/schemas/CostMetadata-Input"
  - target: "$.components.schemas['EventMetadataInput'].additionalProperties.anyOf"
    update:
      - $ref: "#/components/schemas/LLMMetadata"

  - target: "$.components.schemas['EventMetadataOutput'].properties"
    remove: true
  - target: "$.components.schemas['EventMetadataOutput'].additionalProperties.anyOf"
    update:
      - $ref: "#/components/schemas/CostMetadata-Output"
  - target: "$.components.schemas['EventMetadataOutput'].additionalProperties.anyOf"
    update:
      - $ref: "#/components/schemas/LLMMetadata"
