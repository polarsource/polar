"""org_stripe_customer

Revision ID: 06e9299c802a
Revises: f8589f130a0f
Create Date: 2023-03-29 11:04:16.605125

"""
import sqlalchemy as sa
from alembic import op

# Polar Custom Imports

# revision identifiers, used by Alembic.
revision = "06e9299c802a"
down_revision = "f8589f130a0f"
branch_labels: tuple[str] | None = None
depends_on: tuple[str] | None = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column(
        "organizations",
        sa.Column("stripe_customer_id", sa.String(length=50), nullable=True),
    )
    op.create_unique_constraint(
        op.f("organizations_stripe_customer_id_key"),
        "organizations",
        ["stripe_customer_id"],
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(
        op.f("organizations_stripe_customer_id_key"), "organizations", type_="unique"
    )
    op.drop_column("organizations", "stripe_customer_id")
    # ### end Alembic commands ###
