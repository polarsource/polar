"""rename funding_badge to pledge_badge

Revision ID: 51d9d92d0b89
Revises: bd951c7c4d8f
Create Date: 2023-04-28 15:51:50.696582

"""

from alembic import op

# revision identifiers, used by Alembic.
revision = "51d9d92d0b89"
down_revision = "bd951c7c4d8f"
branch_labels: tuple[str] | None = None
depends_on: tuple[str] | None = None


def upgrade() -> None:
    # Changed autogenerated code to use alter_column vs create new + drop old
    op.alter_column(
        "issues",
        "funding_badge_embedded_at",
        new_column_name="pledge_badge_embedded_at",
    )
    op.alter_column(
        "organizations",
        "funding_badge_retroactive",
        new_column_name="pledge_badge_retroactive",
    )
    op.alter_column(
        "organizations",
        "funding_badge_show_amount",
        new_column_name="pledge_badge_show_amount",
    )


def downgrade() -> None:
    op.alter_column(
        "issues",
        "pledge_badge_embedded_at",
        new_column_name="funding_badge_embedded_at",
    )
    op.alter_column(
        "organizations",
        "pledge_badge_retroactive",
        new_column_name="funding_badge_retroactive",
    )
    op.alter_column(
        "organizations",
        "pledge_badge_show_amount",
        new_column_name="funding_badge_show_amount",
    )
