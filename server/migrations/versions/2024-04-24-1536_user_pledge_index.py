"""user/pledge.index

Revision ID: 49a4538ac616
Revises: ad39c3fd3b29
Create Date: 2024-04-24 15:36:48.666212

"""

import sqlalchemy as sa
from alembic import op

# Polar Custom Imports
from polar.kit.extensions.sqlalchemy import PostgresUUID

# revision identifiers, used by Alembic.
revision = "49a4538ac616"
down_revision = "ad39c3fd3b29"
branch_labels: tuple[str] | None = None
depends_on: tuple[str] | None = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_index(
        "idx_user_id_platform", "oauth_accounts", ["user_id", "platform"], unique=False
    )
    op.create_index(
        "idx_issue_id_state", "pledges", ["issue_id", "state"], unique=False
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index("idx_issue_id_state", table_name="pledges")
    op.drop_index("idx_user_id_platform", table_name="oauth_accounts")
    # ### end Alembic commands ###
